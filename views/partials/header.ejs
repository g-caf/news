<header class="site-header">
    <div class="header-content">
        <h1 class="site-title">
            <a href="/">üì∞ NewsHub</a>
        </h1>
        
        <form class="filter-controls" action="/" method="GET" id="filter-form">
            <select name="tag" class="filter-select">
                <option value="">All Topics</option>
                <% if (typeof topicTags !== 'undefined') { %>
                    <% topicTags.forEach(tag => { %>
                        <option value="<%= tag %>" <%= (typeof selectedTag !== 'undefined' && selectedTag === tag) ? 'selected' : '' %>><%= tag %></option>
                    <% }) %>
                <% } %>
            </select>
            
            <select name="category" class="filter-select">
                <option value="">All Types</option>
                <% if (typeof categories !== 'undefined') { %>
                    <% categories.forEach(category => { %>
                        <option value="<%= category %>" <%= (typeof selectedCategory !== 'undefined' && selectedCategory === category) ? 'selected' : '' %>><%= category %></option>
                    <% }) %>
                <% } %>
            </select>
            
            <!-- Hidden input to ensure offset resets on filter change -->
            <input type="hidden" name="offset" value="0">
        </form>
        
        <form class="search-form" action="/search" method="GET">
            <input type="search" name="q" placeholder="Search..." value="<%= typeof query !== 'undefined' ? query : '' %>">
            <button type="submit">üîç</button>
        </form>
    </div>
</header>
